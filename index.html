<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover" />
<title>For My Forever ‚ù§Ô∏è</title>

<script src="https://cdn.jsdelivr.net/npm/canvas-confetti@1.9.3/dist/confetti.browser.min.js"></script>

<style>
:root{
  --bg1:#ffd6e7;
  --bg2:#ffeef6;
  --card:#ffffffdd;
  --yes:#ff3b7a;
  --yesHover:#ff1f68;
}

*{box-sizing:border-box}

body{
  margin:0;
  min-height:100svh;
  display:grid;
  place-items:center;
  background:radial-gradient(circle at top,var(--bg2),var(--bg1));
  font-family:system-ui,-apple-system,sans-serif;
  overflow:hidden;
  padding:16px;
}

/* Floating Hearts Layer */
.hearts{
  position:fixed;
  inset:0;
  overflow:hidden;
  pointer-events:none;
  z-index:0;
}

.heart{
  position:absolute;
  bottom:-40px;
  opacity:.75;
  animation:floatUp linear forwards;
  will-change:transform,opacity;
}

@keyframes floatUp{
  from{
    transform:translateY(0) scale(.8) rotate(0deg);
    opacity:.9;
  }
  to{
    transform:translateY(-110vh) scale(1.4) rotate(360deg);
    opacity:0;
  }
}

/* Confetti Canvas */
#confettiCanvas{
  position:fixed;
  inset:0;
  width:100vw;
  height:100vh;
  pointer-events:none;
  z-index:5;
}

.card{
  position:relative;
  z-index:10;
  width:min(720px,92vw);
  padding:34px 26px;
  background:var(--card);
  backdrop-filter:blur(12px);
  border-radius:24px;
  text-align:center;
  box-shadow:0 20px 70px rgba(0,0,0,.18);
}

h1{
  font-size:clamp(24px,5vw,38px);
  margin:12px 0 18px;
  line-height:1.4;
}

.story{
  font-size:16px;
  opacity:.85;
  margin-bottom:24px;
  line-height:1.6;
}

.button-zone{
  position:relative;
  width:min(520px,92%);
  height:150px;
  margin:0 auto;
  touch-action:none;
}

button{
  position:absolute;
  top:50%;
  transform:translateY(-50%);
  padding:14px 24px;
  font-size:16px;
  font-weight:800;
  border-radius:999px;
  border:none;
  cursor:pointer;
  box-shadow:0 10px 24px rgba(0,0,0,.14);
  user-select:none;
  transition:transform .15s ease,background .15s ease;
}

#yesBtn{
  left:18%;
  background:var(--yes);
  color:#fff;
}

#yesBtn:active{
  transform:translateY(-50%) scale(1.08);
}

#yesBtn:hover{
  background:var(--yesHover);
}

#noBtn{
  left:62%;
  background:#e5e7eb;
  color:#111827;
}

.hint{
  margin-top:10px;
  font-size:12px;
  opacity:.7;
}

.result{
  display:none;
  margin-top:20px;
  animation:pop .4s ease;
}

.result h2{
  font-size:clamp(26px,6vw,42px);
  margin:12px 0;
}

.result p{
  font-size:16px;
  margin-bottom:12px;
  line-height:1.6;
}

@keyframes pop{
  from{transform:scale(.95);opacity:0}
  to{transform:scale(1);opacity:1}
}
</style>
</head>

<body>

<div class="hearts" id="hearts"></div>
<canvas id="confettiCanvas"></canvas>

<main class="card">

<h1>
I didn‚Äôt plan to fall in love‚Ä¶ <br>
I just kept choosing you every single day.
</h1>

<p class="story">
We started with simple conversations ‚Äî no promises, no expectations.

But slowly you became the person I tell everything to.
My first call when something good happens.
My comfort when things feel heavy.

Between random jokes, late night talks,
and caring about each other without saying it‚Ä¶

you stopped being part of my life
and became my home.
</p>

<section class="button-zone" id="zone">
  <button id="yesBtn">Yes‚Ä¶ it‚Äôs always you ‚ù§Ô∏è</button>
  <button id="noBtn">I need to think ü§≠</button>
</section>

<div class="hint" id="hint">
Careful‚Ä¶ running away won‚Äôt work this time üòå
</div>

<section class="result" id="result">
  <h2>So here‚Äôs my promise üíç</h2>
  <p>
Not just loving you on the happy days,
but on the silent days, the stressful days,
and even on the days we don‚Äôt fully understand each other.

I promise to stay.
To listen.
To grow with you.
And to keep choosing you ‚Äî
again and again ‚Äî forever.
  </p>

  <h2>Will you marry me?</h2>
</section>

</main>

<script>
/* Confetti Setup */
const zone=document.getElementById("zone");
const yesBtn=document.getElementById("yesBtn");
const noBtn=document.getElementById("noBtn");
const result=document.getElementById("result");
const hint=document.getElementById("hint");
const confettiCanvas=document.getElementById("confettiCanvas");

function resizeCanvas(){
  const dpr=Math.max(1,window.devicePixelRatio||1);
  confettiCanvas.width=Math.floor(window.innerWidth*dpr);
  confettiCanvas.height=Math.floor(window.innerHeight*dpr);
}
resizeCanvas();
window.addEventListener("resize",resizeCanvas);

const confettiInstance=confetti.create(confettiCanvas,{resize:false,useWorker:true});

function fireConfetti(){
  confettiInstance({
    particleCount:350,
    spread:140,
    startVelocity:65,
    ticks:250,
    origin:{x:0.5,y:0.6}
  });
}

/* Floating Hearts (Mobile Optimized) */
const heartsContainer=document.getElementById("hearts");
let heartCount=0;
const MAX_HEARTS=18;

function createHeart(){
  if(heartCount>=MAX_HEARTS) return;

  const heart=document.createElement("div");
  heart.className="heart";
  heart.innerHTML="üíñ";

  const size=14+Math.random()*22;
  heart.style.left=Math.random()*100+"vw";
  heart.style.fontSize=size+"px";

  const duration=7+Math.random()*4;
  heart.style.animationDuration=duration+"s";

  heartsContainer.appendChild(heart);
  heartCount++;

  setTimeout(()=>{
    heart.remove();
    heartCount--;
  },duration*1000);
}

setInterval(createHeart,800);

/* No Button Movement */
let yesScale=1;
function growYes(){
  yesScale=Math.min(2.3,yesScale+0.12);
  yesBtn.style.transform=`translateY(-50%) scale(${yesScale})`;
}

function clamp(n,min,max){return Math.max(min,Math.min(max,n));}

function moveNo(px,py){
  const z=zone.getBoundingClientRect();
  const b=noBtn.getBoundingClientRect();

  let dx=(b.left+b.width/2)-px;
  let dy=(b.top+b.height/2)-py;
  let mag=Math.hypot(dx,dy)||1;
  dx/=mag; dy/=mag;

  let newLeft=(b.left-z.left)+dx*120;
  let newTop=(b.top-z.top)+dx*120;

  newLeft=clamp(newLeft,0,z.width-b.width);
  newTop=clamp(newTop,0,z.height-b.height);

  noBtn.style.left=newLeft+"px";
  noBtn.style.top=newTop+"px";
  noBtn.style.transform="none";

  growYes();
}

zone.addEventListener("pointermove",e=>{
  const b=noBtn.getBoundingClientRect();
  const d=Math.hypot(
    (b.left+b.width/2)-e.clientX,
    (b.top+b.height/2)-e.clientY
  );
  if(d<130)moveNo(e.clientX,e.clientY);
});

noBtn.addEventListener("click",e=>e.preventDefault());

/* YES CLICK */
yesBtn.addEventListener("click",()=>{
  zone.style.display="none";
  hint.style.display="none";
  result.style.display="block";
  resizeCanvas();
  fireConfetti();

  setTimeout(()=>{
    alert("You just unlocked lifetime subscription to Alok ‚ù§Ô∏è");
  },1600);
});
</script>

</body>
</html>
